３ウィンドウ全てにlmcache仮想環境に入る

コントローラ
PYTHONHASHSEED=123 lmcache_controller --host 0.0.0.0 --port 9000 --monitor-ports '{"pull": 8300, "reply": 8400}'

インスタンス１
PYTHONHASHSEED=123 UCX_TLS=tcp CUDA_VISIBLE_DEVICES=0 LMCACHE_CONFIG_FILE=example1.yaml vllm serve meta-llama/Meta-Llama-3.1-8B-Instruct   --host 0.0.0.0   --gpu-memory-utilization 0.9   --max-model-len 1600   --port 8010   --kv-transfer-config '{"kv_connector":"LMCacheConnectorV1","kv_role":"kv_both"}'

インスタンス２
PYTHONHASHSEED=123 UCX_TLS=tcp CUDA_VISIBLE_DEVICES=0 LMCACHE_CONFIG_FILE=example2.yaml vllm serve meta-llama/Meta-Llama-3.1-8B-Instruct   --host 0.0.0.0   --gpu-memory-utilization 0.9   --max-model-len 1600   --port 8011   --kv-transfer-config '{"kv_connector":"LMCacheConnectorV1", "kv_role":"kv_both"}'

controllerの起動を確認した上で、measure用のpythonファイルを起動する


# ========== Prometheusメトリクスを使用する場合 ==========
# 1. まず、Prometheusディレクトリを作成（最初の1回だけ実行）:
#    mkdir -p /tmp/lmcache_prometheus && chmod 777 /tmp/lmcache_prometheus
#    または
#    ./setup_prometheus_dir.sh
#
# 2. 以下のコマンドで起動（PROMETHEUS_MULTIPROC_DIR環境変数を追加）:
#
#インスタンス１（Prometheus有効）
#PROMETHEUS_MULTIPROC_DIR=/tmp/lmcache_prometheus PYTHONHASHSEED=123 UCX_TLS=tcp CUDA_VISIBLE_DEVICES=0 LMCACHE_CONFIG_FILE=example1.yaml vllm serve meta-llama/Meta-Llama-3.1-8B-Instruct   --host 0.0.0.0   --gpu-memory-utilization 0.9   --max-model-len 1600   --port 8010   --kv-transfer-config '{"kv_connector":"LMCacheConnectorV1","kv_role":"kv_both"}'
#
#インスタンス２（Prometheus有効）
#PROMETHEUS_MULTIPROC_DIR=/tmp/lmcache_prometheus PYTHONHASHSEED=123 UCX_TLS=tcp CUDA_VISIBLE_DEVICES=0 LMCACHE_CONFIG_FILE=example2.yaml vllm serve meta-llama/Meta-Llama-3.1-8B-Instruct   --host 0.0.0.0   --gpu-memory-utilization 0.9   --max-model-len 1600   --port 8011   --kv-transfer-config '{"kv_connector":"LMCacheConnectorV1", "kv_role":"kv_both"}'
#
# メトリクスエンドポイント: http://192.168.110.30:8010/metrics
